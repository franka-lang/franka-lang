# Franka Language Specification
# Version: 1.0.0
# A self-documenting language specification for the Franka Programming Language

metadata:
  name: Franka
  version: "1.0.0"
  description: "The language of collaboration - A programming language designed for clear communication and collaboration"
  file_extension: ".franka"
  syntax_format: "yaml"
  comment_style:
    single_line: "#"
    multi_line:
      start: "###"
      end: "###"

syntax:
  description: "Franka programs are written in YAML format with structured operations"
  
  program_structure:
    description: "A Franka program is a YAML document with operations"
    root_keys:
      - name: "program"
        description: "Root key containing program metadata and operations"
        required: true
      - name: "variables"
        description: "Variable declarations"
        required: false
      - name: "operations"
        description: "List of operations to execute"
        required: true

  operations:
    string:
      - name: "concat"
        description: "Concatenate strings"
        parameters:
          - name: "values"
            type: "list"
            description: "List of string values or variable references to concatenate"
        example: |
          operation: concat
          values:
            - "Hello, "
            - "$name"
      
      - name: "length"
        description: "Get string length"
        parameters:
          - name: "value"
            type: "string"
            description: "String value or variable reference"
        example: |
          operation: length
          value: "$text"
      
      - name: "substring"
        description: "Extract substring"
        parameters:
          - name: "value"
            type: "string"
            description: "String value or variable reference"
          - name: "start"
            type: "number"
            description: "Starting index"
          - name: "end"
            type: "number"
            description: "Ending index (optional)"
        example: |
          operation: substring
          value: "$text"
          start: 0
          end: 5
      
      - name: "uppercase"
        description: "Convert string to uppercase"
        parameters:
          - name: "value"
            type: "string"
            description: "String value or variable reference"
        example: |
          operation: uppercase
          value: "$text"
      
      - name: "lowercase"
        description: "Convert string to lowercase"
        parameters:
          - name: "value"
            type: "string"
            description: "String value or variable reference"
        example: |
          operation: lowercase
          value: "$text"
    
    boolean:
      - name: "and"
        description: "Logical AND operation"
        parameters:
          - name: "values"
            type: "list"
            description: "List of boolean values or variable references"
        example: |
          operation: and
          values:
            - true
            - "$condition"
      
      - name: "or"
        description: "Logical OR operation"
        parameters:
          - name: "values"
            type: "list"
            description: "List of boolean values or variable references"
        example: |
          operation: or
          values:
            - false
            - "$condition"
      
      - name: "not"
        description: "Logical NOT operation"
        parameters:
          - name: "value"
            type: "boolean"
            description: "Boolean value or variable reference"
        example: |
          operation: not
          value: "$condition"
      
      - name: "equals"
        description: "Equality comparison"
        parameters:
          - name: "left"
            type: "any"
            description: "Left operand"
          - name: "right"
            type: "any"
            description: "Right operand"
        example: |
          operation: equals
          left: "$value1"
          right: "$value2"
    
    control:
      - name: "if"
        description: "Conditional execution"
        parameters:
          - name: "condition"
            type: "any"
            description: "Condition to evaluate"
          - name: "then"
            type: "list"
            description: "Operations to execute if condition is true"
          - name: "else"
            type: "list"
            description: "Operations to execute if condition is false (optional)"
        example: |
          operation: if
          condition:
            operation: equals
            left: "$name"
            right: "Alice"
          then:
            - operation: print
              value: "Hello Alice!"
          else:
            - operation: print
              value: "Hello stranger!"
      
      - name: "print"
        description: "Print value to output"
        parameters:
          - name: "value"
            type: "any"
            description: "Value to print"
        example: |
          operation: print
          value: "Hello, World!"
      
      - name: "assign"
        description: "Assign value to variable"
        parameters:
          - name: "variable"
            type: "string"
            description: "Variable name"
          - name: "value"
            type: "any"
            description: "Value to assign"
        example: |
          operation: assign
          variable: "result"
          value: "Success"

  data_types:
    primitives:
      - name: "String"
        description: "Text values"
        examples: ["\"hello\"", "\"world\"", "\"\""]
      
      - name: "Boolean"
        description: "True or false values"
        examples: ["true", "false"]

semantics:
  scoping:
    type: "dynamic"
    description: "Variables are scoped to the operations in which they are defined"
  
  type_system:
    paradigm: "dynamic"
    description: "Runtime type checking with YAML structure validation"
  
  evaluation:
    strategy: "eager"
    description: "Operations are evaluated in sequence as defined"
  
  variables:
    reference_syntax: "$variable_name"
    description: "Variables are referenced using $ prefix"

tooling:
  cli:
    description: "Command-line interface for the Franka language"
    commands:
      - name: "run"
        description: "Execute a Franka program"
        usage: "franka run <file>"
      
      - name: "check"
        description: "Check syntax without execution"
        usage: "franka check <file>"
      
      - name: "repl"
        description: "Start interactive REPL"
        usage: "franka repl"
      
      - name: "version"
        description: "Display version information"
        usage: "franka version"
  
  mcp:
    description: "Model Context Protocol server for AI integration"
    capabilities:
      - "code_completion"
      - "syntax_checking"
      - "documentation_lookup"
  
  web:
    description: "Web-based development environment"
    features:
      - "online_editor"
      - "syntax_highlighting"
      - "interactive_tutorial"

examples:
  - name: "Hello World"
    description: "Basic program that prints a greeting"
    code: |
      program:
        name: "Hello World"
        description: "A simple greeting program"
      
      operations:
        - operation: print
          value: "Hello, Franka!"
  
  - name: "String Operations"
    description: "Demonstrate string manipulation"
    code: |
      program:
        name: "String Operations"
      
      variables:
        greeting: "Hello"
        name: "World"
      
      operations:
        - operation: assign
          variable: "message"
          value:
            operation: concat
            values:
              - "$greeting"
              - ", "
              - "$name"
              - "!"
        
        - operation: print
          value: "$message"
        
        - operation: assign
          variable: "upper_message"
          value:
            operation: uppercase
            value: "$message"
        
        - operation: print
          value: "$upper_message"
  
  - name: "Boolean Logic"
    description: "Demonstrate boolean operations"
    code: |
      program:
        name: "Boolean Logic"
      
      variables:
        is_valid: true
        is_admin: false
      
      operations:
        - operation: assign
          variable: "can_access"
          value:
            operation: and
            values:
              - "$is_valid"
              - "$is_admin"
        
        - operation: if
          condition: "$can_access"
          then:
            - operation: print
              value: "Access granted"
          else:
            - operation: print
              value: "Access denied"
  
  - name: "Conditional String Processing"
    description: "Combine boolean and string operations"
    code: |
      program:
        name: "Conditional String Processing"
      
      variables:
        username: "alice"
        expected: "alice"
      
      operations:
        - operation: assign
          variable: "is_match"
          value:
            operation: equals
            left: "$username"
            right: "$expected"
        
        - operation: if
          condition: "$is_match"
          then:
            - operation: assign
              variable: "greeting"
              value:
                operation: concat
                values:
                  - "Welcome, "
                  - "$username"
                  - "!"
            - operation: print
              value: "$greeting"
          else:
            - operation: print
              value: "Unknown user"
