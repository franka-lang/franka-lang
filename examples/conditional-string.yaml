# Conditional String Processing Example
# Combines boolean and string operations using let/in bindings

program:
  name: "Conditional String Processing"
  description: "Demonstrate combining boolean and string operations"

input:
  username:
    type: string
    default: "alice"
  expected:
    type: string
    default: "alice"

expression:
  let:
    is_match:
      equals:
        left: "$username"
        right: "$expected"
    result:
      if: "$is_match"
      then:
        let:
          greeting:
            concat:
              - "Welcome, "
              - "$username"
              - "!"
          upper_username:
            uppercase: "$username"
          in:
            concat:
              - "$greeting"
              - "\n"
              - "$upper_username"
      else: "Unknown user"
    in: "$result"
